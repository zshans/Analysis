# 基于图文多模态大模型的动态图片资源周期性分析程序

## 功能介绍
该程序用于分析`data`文件夹下所有子文件夹中的图片，并将分析结果保存在子文件夹下的`log.txt`文件中。分析过程中，程序会读取`Analysis_Template.ini`文件中的分析规则，并将图片与这些规则传送到大模型中进行分析。

## 技术栈
- **多线程：** 用于并发处理多个图片分析任务，提高程序的执行效率。
- **文件操作：** 使用Python的`os`模块进行文件和目录的操作，包括读取配置文件、处理图片文件等。
- **事件监听：** 使用`watchdog`库监听文件系统事件，当图片文件被修改时触发分析任务。

## 目录结构
```
.
├── Analysis.py          # 主程序文件，包含核心逻辑与功能实现
├── Analysis_Template.ini # 配置文件，定义了图片分析的规则和提示词
└── data/                # 数据文件夹，用于存放待分析的图片资源
    └── */               # 各个子文件夹，用于分类存放图片
        └── log.txt      # 日志文件，记录该子文件夹内图片的分析结果
```

## 安装与运行
确保你的Python环境已经安装了`watchdog`库。如果没有安装，可以使用以下命令进行安装：

``` bash
pip install watchdog
```
运行程序：

``` bash
python Analysis.py
```
## 配置文件
`Analysis_Template.ini`文件的格式如下：

``` ini
[Analysis]
Prompt = 默认提示词
Rules = 默认规则
```
你可以根据需要修改`Prompt`和`Rules`的值，以定制图片分析的规则和提示词。

## 注意事项
- 程序会在`data`文件夹及其子文件夹中查找图片文件（支持的格式包括`.png`、`.jpg`、`.jpeg`、`.bmp`、`.gif`）。
- 每次修改图片文件后，程序会自动触发分析任务，并将结果记录在对应的`log.txt`文件中。
- 如果需要更换大模型，只需修改与大模型对接的接口部分代码即可。

## 贡献与反馈
如果你对该程序有任何改进建议或发现了问题，欢迎提交issue或pull request。
谢谢